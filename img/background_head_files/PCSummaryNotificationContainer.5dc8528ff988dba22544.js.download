(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[162],{3098:function(e,t,n){e.exports={contentContainer:"_2TMqNf",container:"_1gIfEe",buttonsContainer:"_14FTJA",contentImg:"O8hciL",contentTxt:"_2EmG1E",buttonSignup:"_3L0vna",buttonLogin:"HiMqXW"}},3099:function(e,t,n){e.exports=n.p+"5a83ec8ec1bc1ea687fdf9c6e68eee0b.png"},3100:function(e,t,n){e.exports={container:"_3GVdQ7",imageContainer:"_2-CXwM",contentContainer:"_35NzJf",title:"_2Czip8",content:"_10k4T_"}},3101:function(e,t,n){e.exports={container:"_2dsZ4a",imageContainer:"_3aJ0E7",avatar:"_1kkn3L",imagePlaceholder:"_3hgl80",contentContainer:"jFaRXS",content:"_13a1Mn"}},3102:function(e,t,n){e.exports={notiListLabel:"_31mr3M",notiListLinkViewAll:"w-hMZP"}},3103:function(e,t,n){e.exports={container:"_2732tF"}},3692:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(71),o=n(894),c=n(1006),r=n(41),l=n(866),s=n(380),m=n(855),u=n(4),d=n(3098),f=n.n(d),b=n(3099),p=n.n(b),g=Object(r.withRouter)(function(e){var t=e.history;return a.createElement("div",{className:f.a.container},a.createElement("div",{className:f.a.contentContainer},a.createElement(l.a,{src:p.a,wrapperClassName:f.a.contentImg,className:f.a.contentImg,useImgTag:!0,hidePlaceholder:!0}),a.createElement("p",{className:f.a.contentTxt},Object(u.t)("label_noti_login_required"))),a.createElement("div",{className:f.a.buttonsContainer},a.createElement("button",{className:f.a.buttonSignup,onClick:function(){t.push(Object(m.a)(s.j.getUrl(),{next:location.href,from:location.href}))}},Object(u.t)("label_noti_signup")),a.createElement("button",{className:f.a.buttonLogin,onClick:function(){t.push(Object(m.a)(s.c.getUrl(),{next:location.href,from:location.href}))}},Object(u.t)("label_noti_login"))))}),C=n(374),_=n(263),v=n(217),N=n(1159),E=n(1393),y=n(305),I=n(30),h=n(972),k=n(3100),T=n.n(k),L={};function A(e){var t=e.action,n=e.location,i=e.isUnread,o=e.markNotificationAsRead,c=t||L,r=c.images,l=c.title,s=c.content,m=c.rich_images,u=void 0===m?[]:m,d={action:t,location:n,isUnread:i},f=Object(E.a)("ActionCardSummary",d),b=Object(y.a)("ActionCardSummary",d);return a.createElement(N.b.Container,{className:T.a.container,onClick:function(e){e.preventDefault(),b(),i&&o({notiId:t.action_id,notiType:I.k.ACTION,notiSubType:t.action_cate}),h.a.handleClick(t)},isUnread:i,ref:f},a.createElement(N.b.ImageContainer,{className:T.a.imageContainer},a.createElement(N.c,{images:r})),a.createElement(N.b.ContentContainer,{className:T.a.contentContainer},a.createElement("div",{className:T.a.title},l),a.createElement("div",{className:T.a.content,dangerouslySetInnerHTML:{__html:s}}),u.length>0&&a.createElement(N.d,{images:u,isSummary:!0})))}var O=Object(i.connect)(function(e,t){var n=t.action;return{isUnread:v.e.isNotificationUnread(e,{notiId:n.action_id,notiType:I.k.ACTION,notiSubType:n.action_cate})}},{chatWithUser:_.a,markNotificationAsRead:v.c.markNotificationAsRead})(a.memo(A)),S=n(3101),j=n.n(S),w={};function U(e){var t=e.activity,n=e.location,i=e.markNotificationAsRead,o=e.isUnread,c=e.itemStore,r=e.userStore,l=h.b.getUserAvatarImage(t,{userStore:r}),s=h.b.getDescription(t,{itemStore:c}),m={activity:t,location:n,isUnread:o},u=Object(E.a)("ActivityCardSummary",m),d=Object(y.a)("ActivityCardSummary",m);return a.createElement(N.b.Container,{className:j.a.container,isUnread:o,onClick:function(e){e.preventDefault(),d(),o&&i({notiId:t.activity_id,notiType:I.k.ACTIVITY,notiSubType:t.type}),h.b.handleClick(t)},ref:u},a.createElement(N.b.ImageContainer,{className:j.a.imageContainer},a.createElement(N.a,{avatarImage:l})),a.createElement(N.b.ContentContainer,{className:j.a.contentContainer},a.createElement("div",{className:j.a.content,dangerouslySetInnerHTML:{__html:s}})))}var V=Object(i.connect)(function(e,t){var n=t.activity;return{isUnread:v.e.isNotificationUnread(e,{notiId:n.activity_id,notiType:I.k.ACTIVITY,notiSubType:n.type}),userStore:e.user||w,itemStore:e.item||w}},{markNotificationAsRead:v.c.markNotificationAsRead})(a.memo(U)),x=n(1005),R=n(515),M=n(3102),J=n.n(M);var P=function(e){var t=e.notifications,n=Object(y.a)("NotificationListViewAllSummary");return a.createElement(a.Fragment,null,a.createElement("div",{className:J.a.notiListLabel},Object(u.t)("label_noti_recently_received")),a.createElement("div",{className:J.a.notiListContainer},t.map(function(e,t){var n=Object(R.a)(e);if(!n)return null;var i=n.notiType,o=i+"-"+n.notiId;switch(i){case I.k.ACTION:return a.createElement(O,{key:o,action:e,location:t});case I.k.ACTIVITY:return a.createElement(V,{key:o,activity:e,location:t});default:return null}})),a.createElement(C.a,{className:J.a.notiListLinkViewAll,to:x.a,onClick:n},Object(u.t)("label_noti_view_all")))},F=n(11),q=n(3103),D=n.n(q);var H={updateLastViewedNotification:o.a.updateLastViewedNotification};t.default=Object(i.connect)(function(e){return{progress:o.b.getAPIProgress(e),shouldUpdateLastViewedId:o.b.shouldUpdateLastViewedId(e)}},H)(function(e){var t=e.isLoggedIn,n=e.updateLastViewedNotification,i=e.shouldUpdateLastViewedId,o=e.notifications,r=e.progress;a.useEffect(function(){r!==F.b.INIT&&r!==F.b.REQ&&i&&n()},[r,i,n]);var l=Object(E.a)("NotificationContainerSummary"),s=o.length>0,m=a.createElement(c.a,null);return t?s||r!==F.b.INIT&&r!==F.b.REQ?s&&(m=a.createElement(P,{notifications:o})):m=a.createElement(c.b,null):m=a.createElement(g,null),a.createElement("div",{className:D.a.container,ref:l},m)})}}]);
//# sourceMappingURL=https://shopee.sg/assets/PCSummaryNotificationContainer.5dc8528ff988dba22544.js.map